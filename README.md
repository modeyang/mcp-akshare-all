# mcp-akshare-all

åŸºäº [AKShare](https://akshare.akfamily.xyz/) æ•°æ®æ¥å£çš„ MCP (Model Context Protocol) æœåŠ¡å™¨ï¼Œæä¾›å…¨é¢çš„ä¸­å›½è‚¡ç¥¨å’ŒæœŸè´§å¸‚åœºæ•°æ®è®¿é—®èƒ½åŠ›ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **å…¨é¢çš„æ•°æ®è¦†ç›–**ï¼šæ”¯æŒè‚¡ç¥¨ã€æœŸè´§ã€æ–°é—»ã€èµ„é‡‘æµç­‰å¤šç»´åº¦é‡‘èæ•°æ®
- ğŸ”§ **æ ‡å‡†åŒ–æ¥å£**ï¼šå°† AKShare æ•°æ®æ¥å£è½¬æ¢ä¸ºæ ‡å‡†çš„ MCP å·¥å…·æ ¼å¼
- ğŸ“Š **å®æ—¶æ•°æ®**ï¼šæä¾›å®æ—¶è¡Œæƒ…ã€å†å²æ•°æ®ã€è´¢åŠ¡æŒ‡æ ‡ç­‰
- ğŸŒ **å¤šå¸‚åœºæ”¯æŒ**ï¼šè¦†ç›–Aè‚¡ã€æ¸¯è‚¡ã€ç¾è‚¡ã€æœŸè´§ç­‰å¤šä¸ªå¸‚åœº
- âš¡ **é«˜æ€§èƒ½**ï¼šåŸºäº FastMCP æ¡†æ¶ï¼Œæ”¯æŒå¼‚æ­¥æ•°æ®å¤„ç†
- ğŸ›¡ï¸ **æ•°æ®é™åˆ¶**ï¼šå†…ç½®æ•°æ®è¡Œæ•°é™åˆ¶ï¼Œé¿å…è¿‡å¤§æ•°æ®ä¼ è¾“

## æ”¯æŒçš„æ•°æ®ç±»å‹

### ğŸ“ˆ è‚¡ç¥¨å¸‚åœºæ•°æ®
- **åŸºç¡€è¡Œæƒ…**ï¼šå®æ—¶è¡Œæƒ…ã€å†å²Kçº¿ã€åˆ†æ—¶æ•°æ®
- **å¸‚åœºæ¦‚è§ˆ**ï¼šä¸Šäº¤æ‰€ã€æ·±äº¤æ‰€æ•°æ®æ€»è²Œå’Œç»Ÿè®¡
- **ç‰¹è‰²æ¿å—**ï¼šç§‘åˆ›æ¿ã€åˆ›ä¸šæ¿ã€STè‚¡ç¥¨ã€æ–°è‚¡æ•°æ®
- **è·¨å¸‚åœº**ï¼šA+Hè‚¡ã€ä¸­æ¦‚è‚¡ã€ç¾è‚¡æ•°æ®
- **èµ„é‡‘æµå‘**ï¼šä¸ªè‚¡èµ„é‡‘æµã€ä¸»åŠ›æ§ç›˜æ•°æ®
- **è´¢åŠ¡æ•°æ®**ï¼šä¸»è¥æ„æˆã€è´¢åŠ¡æŒ‡æ ‡
- **å¸‚åœºæƒ…ç»ª**ï¼šçƒ­æœæ’è¡Œã€å…³æ³¨åº¦æ•°æ®

### ğŸ”® æœŸè´§å¸‚åœºæ•°æ®
- **å®æ—¶è¡Œæƒ…**ï¼šå•†å“æœŸè´§ã€é‡‘èæœŸè´§å®æ—¶æ•°æ®
- **åˆçº¦ä¿¡æ¯**ï¼šå„å¤§äº¤æ˜“æ‰€åˆçº¦è¯¦æƒ…
- **äº¤æ˜“è§„åˆ™**ï¼šæ‰‹ç»­è´¹ã€ä¿è¯é‡‘ã€äº¤æ˜“æ—¥å†
- **å›½é™…æœŸè´§**ï¼šå¤–ç›˜æœŸè´§å®æ—¶è¡Œæƒ…
- **ç°æœŸåˆ†æ**ï¼šç°è´§ä¸æœŸè´§ä»·æ ¼å¯¹æ¯”

### ğŸ“° èµ„è®¯ä¸æ–°é—»
- **ä¸ªè‚¡æ–°é—»**ï¼šä¸œæ–¹è´¢å¯Œä¸ªè‚¡èµ„è®¯
- **è´¢ç»å¿«è®¯**ï¼šå¯Œé€”ç‰›ç‰›ã€è´¢æ–°ç½‘å†…å®¹
- **æœŸè´§èµ„è®¯**ï¼šä¸Šæµ·é‡‘å±ç½‘å¿«è®¯

## å·¥å…·å‡½æ•°åˆ—è¡¨

### åŸºç¡€å·¥å…·
- `get_current_time()` - è·å–å½“å‰æ—¶é—´
- `stock_trade_date_hist()` - è‚¡ç¥¨äº¤æ˜“æ—¥å†æŸ¥è¯¢

### è‚¡ç¥¨å¸‚åœºæ¦‚è§ˆ
- `stock_zh_a_gdhs_detail_em()` - ä¸Šæµ·è¯åˆ¸äº¤æ˜“æ‰€è‚¡ç¥¨æ•°æ®æ€»è²Œ
- `stock_szse_sector_summary()` - æ·±åœ³è¯åˆ¸äº¤æ˜“æ‰€è¯åˆ¸ç±»åˆ«ç»Ÿè®¡
- `stock_zh_a_gdhs_detail_em_area()` - åœ°åŒºäº¤æ˜“æ’åº
- `stock_board_industry_summary_ths()` - è‚¡ç¥¨è¡Œä¸šæˆäº¤æ•°æ®

### è‚¡ç¥¨è¡Œæƒ…æ•°æ®
- `stock_zh_a_st_em()` - é£é™©è­¦ç¤ºæ¿è‚¡ç¥¨è¡Œæƒ…
- `stock_zh_a_new_em()` - æ–°è‚¡è¡Œæƒ…æ•°æ®
- `stock_xgsr_ths()` - æ–°è‚¡ä¸Šå¸‚é¦–æ—¥æ•°æ®
- `stock_zh_kcb_daily()` - ç§‘åˆ›æ¿è‚¡ç¥¨å†å²è¡Œæƒ…
- `stock_zh_ah_daily()` - A+Hè‚¡å†å²è¡Œæƒ…
- `stock_us_hist()` - ç¾è‚¡å†å²è¡Œæƒ…
- `stock_us_hist_min_em()` - ç¾è‚¡åˆ†æ—¶è¡Œæƒ…
- `stock_bid_ask_em()` - Aè‚¡åˆ†æ—¶è¡Œæƒ…
- `stock_hk_hist_min_em()` - æ¸¯è‚¡åˆ†æ—¶è¡Œæƒ…
- `stock_zh_ah_spot()` - A+Hè‚¡å®æ—¶è¡Œæƒ…
- `stock_zh_kcb_spot()` - ç§‘åˆ›æ¿å®æ—¶è¡Œæƒ…
- `stock_us_spot_em()` - ç¾è‚¡å®æ—¶è¡Œæƒ…

### è‚¡ç¥¨åˆ†æå·¥å…·
- `stock_zygc_em()` - ä¸Šå¸‚å…¬å¸ä¸»è¥æ„æˆ
- `stock_comment_detail_zlkp_jgcyd_em()` - ä¸»åŠ›æ§ç›˜ä¸æœºæ„å‚ä¸åº¦
- `stock_fund_flow_individual()` - ä¸ªè‚¡èµ„é‡‘æµæ•°æ®
- `stock_hot_follow_xq()` - é›ªçƒè‚¡ç¥¨çƒ­åº¦å…³æ³¨æ’è¡Œ
- `stock_hot_search_baidu()` - ç™¾åº¦çƒ­æœè‚¡ç¥¨æ•°æ®

### è‚¡ç¥¨èµ„è®¯
- `stock_news_em()` - ä¸ªè‚¡æ–°é—»èµ„è®¯
- `stock_news_main_cx()` - è´¢ç»å†…å®¹ç²¾é€‰
- `stock_info_global_futu()` - å¯Œé€”ç‰›ç‰›å¿«è®¯

### æœŸè´§å¸‚åœº
- `futures_zh_spot()` - æœŸè´§å®æ—¶è¡Œæƒ…
- `match_main_contract()` - æœŸè´§ä¸»åŠ›åˆçº¦åŒ¹é…
- `futures_fees_info()` - æœŸè´§äº¤æ˜“è´¹ç”¨å‚ç…§è¡¨
- `futures_comm_info()` - æœŸè´§æ‰‹ç»­è´¹ä¸ä¿è¯é‡‘
- `futures_rule()` - æœŸè´§äº¤æ˜“æ—¥å†
- `futures_spot_sys()` - æœŸè´§ç°æœŸå›¾æ•°æ®

### æœŸè´§åˆçº¦ä¿¡æ¯
- `futures_contract_info_shfe()` - ä¸Šæµ·æœŸè´§äº¤æ˜“æ‰€åˆçº¦ä¿¡æ¯
- `futures_contract_info_dce()` - å¤§è¿å•†å“äº¤æ˜“æ‰€åˆçº¦ä¿¡æ¯
- `futures_contract_info_czce()` - éƒ‘å·å•†å“äº¤æ˜“æ‰€åˆçº¦ä¿¡æ¯
- `futures_contract_info_cffex()` - ä¸­å›½é‡‘èæœŸè´§äº¤æ˜“æ‰€åˆçº¦ä¿¡æ¯

### å›½é™…æœŸè´§
- `futures_hq_subscribe_exchange_symbol()` - å¤–ç›˜æœŸè´§å“ç§ä»£ç è¡¨
- `futures_foreign_commodity_realtime()` - å¤–ç›˜æœŸè´§å®æ—¶è¡Œæƒ…
- `futures_global_spot_em()` - å›½é™…æœŸè´§å®æ—¶è¡Œæƒ…
- `futures_news_shmet()` - æœŸè´§èµ„è®¯å¿«è®¯

## å®‰è£…ä¸é…ç½®

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- ä¾èµ–åŒ…ï¼š`fastmcp>=2.0.0`, `akshare`, `pandas`

### å®‰è£…æ–¹å¼

#### æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨ uvxï¼ˆæ¨èï¼‰

```json
{
  "mcpServers": {
    "mcp-akshare-all": {
      "command": "uvx",
      "args": [
        "mcp-akshare-all"
      ]
    }
  }
}
```

#### æ–¹å¼äºŒï¼šä»æºç å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/August1996/mcp-akshare.git
cd mcp-akshare-all

# å®‰è£…ä¾èµ–
uv sync

# è¿è¡ŒæœåŠ¡å™¨
uv run python main.py
```

åœ¨ MCP å®¢æˆ·ç«¯é…ç½®ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "mcp-akshare-all": {
      "command": "uv",
      "args": [
        "run",
        "python",
        "/path/to/mcp-akshare-all/main.py"
      ],
      "cwd": "/path/to/mcp-akshare-all"
    }
  }
}
```

#### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ HTTP æ¥å£è¿æ¥

é¦–å…ˆå¯åŠ¨æœåŠ¡å™¨ï¼š

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/August1996/mcp-akshare.git
cd mcp-akshare-all

# å®‰è£…ä¾èµ–
uv sync

# å¯åŠ¨ HTTP æœåŠ¡å™¨ï¼ˆé»˜è®¤ç«¯å£ 9000ï¼‰
uv run python main.py
```

ç„¶ååœ¨ MCP å®¢æˆ·ç«¯é…ç½®ä¸­ä½¿ç”¨ HTTP ä¼ è¾“åè®®ï¼š

```json
{
  "mcpServers": {
    "mcp-akshare-all": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-everything",
        "http://localhost:9000/mcp"
      ]
    }
  }
}
```

æˆ–è€…ç›´æ¥ä½¿ç”¨ HTTP URLï¼š

```json
{
  "mcpServers": {
    "mcp-akshare-all": {
      "url": "http://localhost:9000/mcp"
    }
  }
}
```

### HTTP æœåŠ¡æ¨¡å¼

æœåŠ¡å™¨æ”¯æŒ HTTP ä¼ è¾“åè®®ï¼Œé»˜è®¤è¿è¡Œåœ¨ç«¯å£ 9000ï¼š

```bash
uv run python main.py
```

æœåŠ¡å™¨å¯åŠ¨åï¼Œå¯é€šè¿‡ HTTP æ¥å£è®¿é—® MCP æœåŠ¡ã€‚

## ä½¿ç”¨ç¤ºä¾‹

### è·å–è‚¡ç¥¨å®æ—¶è¡Œæƒ…

```python
# è·å–ç§‘åˆ›æ¿å®æ—¶è¡Œæƒ…
result = stock_zh_kcb_spot()
print(result)
```

### è·å–æœŸè´§æ•°æ®

```python
# è·å–æœŸè´§å®æ—¶è¡Œæƒ…
result = futures_zh_spot(symbol="V2205", market="CF")
print(result)

# è·å–ä¸»åŠ›åˆçº¦
result = match_main_contract(symbol="dce")
print(result)
```

### è·å–è´¢ç»æ–°é—»

```python
# è·å–ä¸ªè‚¡æ–°é—»
result = stock_news_em(symbol="300059")
print(result)

# è·å–è´¢ç»å¿«è®¯
result = stock_info_global_futu()
print(result)
```

## æ•°æ®é™åˆ¶è¯´æ˜

ä¸ºäº†é¿å…æ•°æ®ä¼ è¾“è¿‡å¤§ï¼Œæ‰€æœ‰è¿”å›çš„æ•°æ®éƒ½é™åˆ¶åœ¨ `MAX_DATA_ROW = 100` è¡Œä»¥å†…ã€‚å¦‚éœ€è·å–æ›´å¤šæ•°æ®ï¼Œå¯ä»¥ï¼š

1. ä¿®æ”¹ `main.py` ä¸­çš„ `MAX_DATA_ROW` å¸¸é‡
2. ä½¿ç”¨åˆ†é¡µæˆ–æ—¶é—´èŒƒå›´å‚æ•°è·å–ç‰¹å®šæ•°æ®

## æŠ€æœ¯æ¶æ„

- **æ¡†æ¶**ï¼šåŸºäº [FastMCP](https://github.com/jlowin/fastmcp) 2.0+
- **æ•°æ®æº**ï¼š[AKShare](https://akshare.akfamily.xyz/) é‡‘èæ•°æ®æ¥å£
- **ä¼ è¾“åè®®**ï¼šæ”¯æŒ HTTP å’Œ STDIO ä¼ è¾“
- **æ•°æ®æ ¼å¼**ï¼šç»Ÿä¸€è¿”å› JSON æ ¼å¼æ•°æ®
- **å¼‚æ­¥æ”¯æŒ**ï¼šæ‰€æœ‰å·¥å…·å‡½æ•°æ”¯æŒå¼‚æ­¥è°ƒç”¨

## å¸¸è§é—®é¢˜

### Q: æ•°æ®æ›´æ–°é¢‘ç‡å¦‚ä½•ï¼Ÿ
A: æ•°æ®æ¥æºäº AKShareï¼Œæ›´æ–°é¢‘ç‡å–å†³äºå„æ•°æ®æºçš„æ›´æ–°ç­–ç•¥ï¼Œä¸€èˆ¬å®æ—¶æ•°æ®å»¶è¿Ÿåœ¨å‡ åˆ†é’Ÿå†…ã€‚

### Q: æ”¯æŒå“ªäº›è‚¡ç¥¨ä»£ç æ ¼å¼ï¼Ÿ
A: æ”¯æŒå¤šç§æ ¼å¼ï¼š
- Aè‚¡ï¼š`000001`ï¼ˆæ·±åœ³ï¼‰ã€`600000`ï¼ˆä¸Šæµ·ï¼‰
- æ¸¯è‚¡ï¼š`00700`
- ç¾è‚¡ï¼š`AAPL`
- å¸¦å¸‚åœºæ ‡è¯†ï¼š`SZ000001`ã€`SH600000`

### Q: å¦‚ä½•å¤„ç†æ•°æ®è·å–å¤±è´¥ï¼Ÿ
A: æœåŠ¡å™¨å†…ç½®é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œå½“æ•°æ®è·å–å¤±è´¥æ—¶ä¼šè¿”å›ç©ºç»“æœæˆ–é”™è¯¯ä¿¡æ¯ã€‚å»ºè®®æ£€æŸ¥ï¼š
1. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
2. è‚¡ç¥¨ä»£ç æ˜¯å¦æ­£ç¡®
3. äº¤æ˜“æ—¶é—´æ˜¯å¦åœ¨å¼€å¸‚æœŸé—´

### Q: å¯ä»¥è‡ªå®šä¹‰æ•°æ®è¡Œæ•°é™åˆ¶å—ï¼Ÿ
A: å¯ä»¥ä¿®æ”¹ `main.py` ä¸­çš„ `MAX_DATA_ROW` å¸¸é‡æ¥è°ƒæ•´è¿”å›æ•°æ®çš„æœ€å¤§è¡Œæ•°ã€‚

## è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼å¦‚æœæ‚¨æƒ³è¦æ·»åŠ æ–°çš„æ•°æ®æ¥å£æˆ–æ”¹è¿›ç°æœ‰åŠŸèƒ½ï¼š

1. **Fork é¡¹ç›®**å¹¶åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯
2. **æ·»åŠ æ–°æ¥å£**ï¼šå‚è€ƒç°æœ‰å·¥å…·å‡½æ•°çš„æ ¼å¼
3. **æµ‹è¯•åŠŸèƒ½**ï¼šç¡®ä¿æ–°æ¥å£æ­£å¸¸å·¥ä½œ
4. **æäº¤ Pull Request**ï¼šè¯¦ç»†æè¿°æ‚¨çš„æ›´æ”¹

### æ·»åŠ æ–°æ¥å£çš„æ­¥éª¤

```python
@mcp.tool()
def your_new_function(param1: str, param2: str = "default") -> dict:
    """å‡½æ•°æè¿°
    
    æ•°æ®æ¥æº: æ•°æ®æºç½‘ç«™
    ç½‘å€: https://example.com
    
    Args:
        param1: å‚æ•°1æè¿°
        param2: å‚æ•°2æè¿°
        
    Returns:
        dict: è¿”å›æ•°æ®çš„å­—å…¸æ ¼å¼æè¿°
    """
    result = ak.your_akshare_function(param1=param1, param2=param2)
    if type(result) is pandas.core.frame.DataFrame:
        result = result[:min(MAX_DATA_ROW, len(result))]
    return result.to_dict(orient="records")
```

### å‚è€ƒèµ„æº

- [AKShare å®˜æ–¹æ–‡æ¡£](https://akshare.akfamily.xyz/)
- [FastMCP æ¡†æ¶æ–‡æ¡£](https://github.com/jlowin/fastmcp)
- [MCP åè®®è§„èŒƒ](https://modelcontextprotocol.io/)

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒ 40+ è‚¡ç¥¨å’ŒæœŸè´§æ•°æ®æ¥å£
- åŸºäº FastMCP 2.0 æ¡†æ¶
- æ”¯æŒ HTTP å’Œ STDIO ä¼ è¾“åè®®

## è®¸å¯è¯

MIT License

Copyright (c) 2024 mcp-akshare-all

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

## å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®ã€‚ä½¿ç”¨æœ¬é¡¹ç›®è·å–çš„é‡‘èæ•°æ®è¿›è¡ŒæŠ•èµ„å†³ç­–çš„é£é™©ç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…ã€‚é¡¹ç›®ç»´æŠ¤è€…ä¸å¯¹æ•°æ®çš„å‡†ç¡®æ€§ã€å®Œæ•´æ€§æˆ–åŠæ—¶æ€§åšä»»ä½•ä¿è¯ã€‚
